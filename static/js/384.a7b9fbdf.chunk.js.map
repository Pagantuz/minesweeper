{"version":3,"file":"static/js/384.a7b9fbdf.chunk.js","mappings":"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","sources":["modules/GameFormModule/utils/generateRules.ts","webpack://minesweeper/./src/modules/GameFormModule/components/Form/styles.module.css?13a1","modules/GameFormModule/components/Form/GameForm.tsx","webpack://minesweeper/./src/modules/GameFormModule/components/FormContainer/styles.module.css?b793","modules/GameFormModule/components/FormContainer/FormContainer.tsx","modules/GameFormModule/GameFormModule.tsx","pages/FormPage/FormPage.tsx"],"sourcesContent":["import { Rule } from 'antd/es/form';\r\n\r\nconst rules: Record<string, (message?: string, ...args: any[]) => Rule> = {\r\n  required: (message = 'Обязательно для заполнения') => ({\r\n    required: true,\r\n    message: message\r\n  }),\r\n  max: (message = 'Слишком много', max) => ({\r\n    max,\r\n    message\r\n  }),\r\n  min: (message = 'Слишком мало', min) => ({\r\n    min,\r\n    message\r\n  })\r\n};\r\n\r\nexport { rules };\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__B5Vsh\"};","import {\r\n  Button,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  notification,\r\n  Select,\r\n  Space\r\n} from 'antd';\r\nimport { ROUTES } from 'constants/routes';\r\nimport { TFormValues } from 'modules/GameFormModule/types/FormValues';\r\nimport { rules } from 'modules/GameFormModule/utils/generateRules';\r\nimport { TDifficulty, useGameStore } from 'modules/GameModule';\r\nimport { useIsMobile } from 'hooks/useIsMobile';\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Head } from 'UI/Head';\r\nimport styles from './styles.module.css';\r\n\r\nconst GameForm: React.FC = () => {\r\n  const [selectDifficulty, setSelectDifficulty] = React.useState<TDifficulty>();\r\n  const [api, contextHolder] = notification.useNotification();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const setUsername = useGameStore((state) => state.setUsername);\r\n  const setCustomDifficulty = useGameStore(\r\n    (state) => state.setCustomDifficulty\r\n  );\r\n  const setDifficulty = useGameStore((state) => state.setDifficulty);\r\n  const generateGame = useGameStore((state) => state.generateGame);\r\n\r\n  const isMobile = useIsMobile();\r\n\r\n  const onFinish = (values: TFormValues) => {\r\n    if (values.difficulty === 'custom') {\r\n      const optimalMinesCount = Math.floor(values.rows * values.columns * 0.2);\r\n      const isTooManyMines = values.mines > optimalMinesCount;\r\n      if (isTooManyMines) {\r\n        api.error({\r\n          duration: 5,\r\n          message: 'Произошла ошибка',\r\n          description:\r\n            'Слишком много мин. Выиграть такую игру можно будет только случайным образом'\r\n        });\r\n        return;\r\n      }\r\n\r\n      setCustomDifficulty([values.rows, values.columns], values.mines);\r\n    } else {\r\n      setDifficulty(values.difficulty);\r\n    }\r\n    setUsername(values.username);\r\n    generateGame();\r\n    navigate(ROUTES.GAME, { replace: true });\r\n  };\r\n\r\n  const goToLeaderboard = () => {\r\n    navigate(ROUTES.LEADERBOARD);\r\n  };\r\n\r\n  const isCustom = selectDifficulty === 'custom';\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {contextHolder}\r\n      <Head title='Сапёр' />\r\n      <Form\r\n        labelCol={{ span: 8 }}\r\n        wrapperCol={{ span: 16 }}\r\n        name='game-form'\r\n        onFinish={onFinish}>\r\n        <Form.Item\r\n          name='username'\r\n          label='Имя пользователя'\r\n          rules={[\r\n            rules.required(),\r\n            rules.min('Минимум 4 символа', 4),\r\n            rules.max('Максимум 10 символов', 10)\r\n          ]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name='difficulty'\r\n          label='Сложность'\r\n          rules={[rules.required()]}>\r\n          <Select onChange={setSelectDifficulty}>\r\n            <Select.Option key='easy' value='easy'>\r\n              Лёгкая\r\n            </Select.Option>\r\n            <Select.Option key='medium' value='medium'>\r\n              Средняя\r\n            </Select.Option>\r\n            <Select.Option key='hard' value='hard'>\r\n              Тяжелая\r\n            </Select.Option>\r\n            <Select.Option key='custom' value='custom'>\r\n              Пользовательская\r\n            </Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        {isCustom && (\r\n          <>\r\n            <Form.Item\r\n              name='mines'\r\n              label='Количество мин'\r\n              rules={[rules.required()]}>\r\n              <InputNumber min={1} max={999} />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name='rows'\r\n              label='Высота поля'\r\n              rules={[rules.required()]}>\r\n              <InputNumber min={8} max={99} />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name='columns'\r\n              label='Ширина поля'\r\n              rules={[rules.required()]}>\r\n              <InputNumber min={8} max={99} />\r\n            </Form.Item>\r\n          </>\r\n        )}\r\n        <Form.Item\r\n          wrapperCol={\r\n            isMobile ? { offset: 0, span: 8 } : { offset: 8, span: 8 }\r\n          }>\r\n          <Space>\r\n            <Button block type='primary' htmlType='submit'>\r\n              Начать игру\r\n            </Button>\r\n            <Button block type='default' onClick={goToLeaderboard}>\r\n              На страницу лидеров\r\n            </Button>\r\n          </Space>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { GameForm };\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__U3uwI\"};","import React from 'react';\r\nimport styles from './styles.module.css';\r\n\r\ntype FormContainerProps = {\r\n  children: React.ReactNode;\r\n};\r\n\r\nconst FormContainer: React.FC<FormContainerProps> = ({ children }) => {\r\n  return <div className={styles.container}>{children}</div>;\r\n};\r\n\r\nexport { FormContainer };\r\n","import React from 'react';\r\nimport { GameForm } from './components/Form';\r\nimport { FormContainer } from './components/FormContainer';\r\n\r\nconst GameFormModule: React.FC = () => {\r\n  return (\r\n    <FormContainer>\r\n      <GameForm />\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport { GameFormModule };\r\n","import { GameFormModule } from 'modules/GameFormModule';\r\nimport React from 'react';\r\n\r\nconst FormPage: React.FC = () => {\r\n  return <GameFormModule />;\r\n};\r\n\r\nexport { FormPage };\r\n"],"names":["rules","required","message","arguments","length","undefined","max","min","GameForm","_React$useState","React","_React$useState2","_slicedToArray","selectDifficulty","setSelectDifficulty","_notification$useNoti","notification","_notification$useNoti2","api","contextHolder","navigate","useNavigate","setUsername","useGameStore","state","setCustomDifficulty","setDifficulty","generateGame","isMobile","useIsMobile","isCustom","_jsxs","className","styles","children","_jsx","Head","title","Form","labelCol","span","wrapperCol","name","onFinish","values","difficulty","optimalMinesCount","Math","floor","rows","columns","mines","error","duration","description","username","ROUTES","replace","label","Input","Select","onChange","value","_Fragment","InputNumber","offset","Space","Button","block","type","htmlType","onClick","FormContainer","_ref","GameFormModule","FormPage"],"sourceRoot":""}